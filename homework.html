<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduBot AI - Premium Homework Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0a0a0a;
            --secondary-dark: #1a1a1a;
            --accent-green: #2ecc71;
            --light-green: #4efd87;
            --dark-green: #27ae60;
            --text-light: #f5f5f5;
            --text-muted: #b3b3b3;
            --card-bg: #1e1e1e;
            --input-bg: #2d2d2d;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 400;
            src: url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2) format('woff2');
        }

        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 600;
            src: url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYAZ9hiA.woff2) format('woff2');
        }

        body {
            background-color: var(--primary-dark);
            color: var(--text-light);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 25px;
        }

        header {
            background-color: var(--secondary-dark);
            padding: 1.2rem 0;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(46, 204, 113, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-icon {
            color: var(--accent-green);
            font-size: 1.8rem;
        }

        .logo-text {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--accent-green), var(--light-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            position: relative;
            padding: 5px 0;
        }

        nav a:hover {
            color: var(--light-green);
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--accent-green);
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        .cta-button {
            background: linear-gradient(135deg, var(--accent-green), var(--dark-green));
            color: var(--primary-dark);
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
        }

        .hero {
            padding: 4rem 0 3rem;
            text-align: center;
            background: linear-gradient(to bottom, var(--primary-dark), var(--secondary-dark));
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(46, 204, 113, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.2rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, var(--text-light), var(--light-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-muted);
            margin-bottom: 2.5rem;
            line-height: 1.7;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2.5rem;
            margin-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .chat-container {
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .chat-header {
            background-color: var(--secondary-dark);
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .chat-header h3 {
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chat-header h3 i {
            color: var(--accent-green);
        }

        .model-selector {
            background-color: var(--input-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-light);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .model-selector:hover {
            border-color: var(--accent-green);
        }

        .model-selector option {
            background-color: var(--secondary-dark);
            color: var(--text-light);
        }

        .chat-messages {
            height: 600px;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            background-color: var(--card-bg);
        }

        .message {
            max-width: 85%;
            padding: 1rem 1.2rem;
            border-radius: 12px;
            line-height: 1.6;
            position: relative;
            font-size: 0.95rem;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--accent-green), var(--dark-green));
            color: var(--primary-dark);
            border-bottom-right-radius: 4px;
            font-weight: 500;
        }

        .ai-message {
            align-self: flex-start;
            background-color: var(--secondary-dark);
            color: var(--text-light);
            border-bottom-left-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .ai-message pre {
            background-color: var(--primary-dark);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 0.8rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-message code {
            font-family: 'Courier New', monospace;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .chat-input-container {
            padding: 1.2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            background-color: var(--secondary-dark);
            position: relative;
        }

        .chat-input {
            display: flex;
            align-items: center;
            background-color: var(--input-bg);
            border-radius: 8px;
            padding: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .chat-input:focus-within {
            border-color: var(--accent-green);
            box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.2);
        }

        .chat-input textarea {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-light);
            padding: 0.6rem 0.8rem;
            resize: none;
            height: 50px;
            max-height: 150px;
            outline: none;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .chat-input textarea::placeholder {
            color: var(--text-muted);
        }

        .send-btn {
            background: linear-gradient(135deg, var(--accent-green), var(--dark-green));
            color: var(--primary-dark);
            border: none;
            border-radius: 6px;
            width: 44px;
            height: 44px;
            margin-left: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .send-btn:hover {
            transform: scale(1.05);
        }

        .send-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.8rem;
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .sidebar-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sidebar-card h3 {
            margin-bottom: 1.2rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--light-green);
        }

        .sidebar-card h3 i {
            font-size: 1rem;
        }

        .subject-list {
            list-style: none;
        }

        .subject-list li {
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .subject-list li:hover {
            border-bottom-color: rgba(46, 204, 113, 0.3);
        }

        .subject-list li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .subject-list a {
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
        }

        .subject-list a:hover {
            color: var(--light-green);
        }

        .subject-list a i {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(46, 204, 113, 0.1);
            border-radius: 6px;
            color: var(--accent-green);
            font-size: 0.9rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .action-btn {
            background-color: var(--input-bg);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            text-align: center;
            color: var(--text-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .action-btn:hover {
            background-color: rgba(46, 204, 113, 0.1);
            border-color: rgba(46, 204, 113, 0.3);
            transform: translateY(-2px);
        }

        .action-btn i {
            color: var(--accent-green);
            font-size: 1.1rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .feature-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2rem 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(46, 204, 113, 0.3);
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--accent-green), var(--light-green));
        }

        .feature-icon {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            color: var(--accent-green);
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        footer {
            background-color: var(--secondary-dark);
            padding: 3rem 0 2rem;
            margin-top: auto;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .footer-logo i {
            font-size: 1.8rem;
            color: var(--accent-green);
        }

        .footer-logo span {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--accent-green), var(--light-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .footer-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--light-green);
        }

        .social-links {
            display: flex;
            gap: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .social-links a {
            color: var(--text-muted);
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            color: var(--light-green);
            transform: translateY(-3px);
        }

        .copyright {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-align: center;
            opacity: 0.7;
        }

        /* Loading animation */
        .typing-indicator {
            display: flex;
            padding: 1rem;
            gap: 6px;
            background-color: var(--secondary-dark);
            border-radius: 12px;
            width: fit-content;
            border: 1px solid rgba(255, 255, 255, 0.05);
            margin-bottom: 1.2rem;
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            background-color: var(--accent-green);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
            opacity: 0.7;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-5px);
                opacity: 1;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-green);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--light-green);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1.2rem;
            }

            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }
        }

        /* Floating particles animation */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            background-color: rgba(46, 204, 113, 0.3);
            border-radius: 50%;
            animation: float linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Floating particles background -->
    <div class="particles" id="particles"></div>

    <header>
        <div class="container header-content">
            <a href="#" class="logo">
                <i class="fas fa-robot logo-icon"></i>
                <span class="logo-text">EduBot AI</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Features</a></li>
                    <li><a href="#">Subjects</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="#">About</a></li>
                </ul>
            </nav>
            <button class="cta-button">Get Premium</button>
        </div>
    </header>

    <section class="hero">
        <div class="container hero-content">
            <h1>Advanced AI Homework Assistant</h1>
            <p>Get instant, accurate help with all your academic subjects. Our AI-powered tutor provides detailed explanations, step-by-step solutions, and personalized learning support 24/7.</p>
            <button class="cta-button">Try It Free</button>
        </div>
    </section>

    <div class="container">
        <div class="main-content">
            <div class="chat-container">
                <div class="chat-header">
                    <h3><i class="fas fa-graduation-cap"></i> Homework Helper</h3>
                    <select class="model-selector" id="modelSelector">
                        <option value="deepseek/deepseek-chat-v3-0324:free">DeepSeek Chat (Free)</option>
                        <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="anthropic/claude-2">Claude 2</option>
                        <option value="meta-llama/llama-3-70b-instruct">Llama 3 (Premium)</option>
                    </select>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <p>Hello! I'm EduBot, your advanced AI homework assistant. I can help with:</p>
                        <ul style="margin-top: 0.5rem; padding-left: 1.2rem;">
                            <li>Math problems with step-by-step solutions</li>
                            <li>Science concepts and experiments</li>
                            <li>Essay writing and grammar checks</li>
                            <li>Coding and computer science</li>
                            <li>Historical analysis and more</li>
                        </ul>
                        <p style="margin-top: 0.8rem;">What would you like help with today?</p>
                    </div>
                </div>
                <div class="chat-input-container">
                    <div class="chat-input">
                        <textarea id="userInput" placeholder="Ask your homework question here..." rows="1"></textarea>
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="sidebar-card">
                    <h3><i class="fas fa-book-open"></i> Subjects</h3>
                    <ul class="subject-list">
                        <li><a href="#"><i class="fas fa-square-root-alt"></i> Mathematics</a></li>
                        <li><a href="#"><i class="fas fa-atom"></i> Science</a></li>
                        <li><a href="#"><i class="fas fa-landmark"></i> History</a></li>
                        <li><a href="#"><i class="fas fa-book"></i> Literature</a></li>
                        <li><a href="#"><i class="fas fa-code"></i> Computer Science</a></li>
                        <li><a href="#"><i class="fas fa-globe-americas"></i> Languages</a></li>
                        <li><a href="#"><i class="fas fa-paint-brush"></i> Arts</a></li>
                    </ul>
                </div>

                <div class="sidebar-card">
                    <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    <div class="quick-actions">
                        <button class="action-btn" data-prompt="Solve this math problem showing all steps: ">
                            <i class="fas fa-calculator"></i>
                            Math Solver
                        </button>
                        <button class="action-btn" data-prompt="Explain this concept in simple terms: ">
                            <i class="fas fa-lightbulb"></i>
                            Explain
                        </button>
                        <button class="action-btn" data-prompt="Check and correct the grammar in this text: ">
                            <i class="fas fa-spell-check"></i>
                            Grammar Check
                        </button>
                        <button class="action-btn" data-prompt="Provide a detailed summary of: ">
                            <i class="fas fa-file-alt"></i>
                            Summarize
                        </button>
                        <button class="action-btn" data-prompt="Help me understand this code: ">
                            <i class="fas fa-code"></i>
                            Code Help
                        </button>
                        <button class="action-btn" data-prompt="Generate an outline for an essay about: ">
                            <i class="fas fa-edit"></i>
                            Essay Outline
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <section class="features">
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-brain"></i></div>
                <h3>Advanced AI Models</h3>
                <p>Access cutting-edge AI models tailored for education, providing accurate and context-aware responses to complex academic questions.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                <h3>Step-by-Step Solutions</h3>
                <p>Don't just get answers - understand the process with detailed, human-like explanations for math, science, and coding problems.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-history"></i></div>
                <h3>Conversation History</h3>
                <p>Your learning journey is saved so you can revisit explanations and build upon previous sessions (Premium feature).</p>
            </div>
        </section>
    </div>

    <footer>
        <div class="container footer-content">
            <a href="#" class="footer-logo">
                <i class="fas fa-robot"></i>
                <span>EduBot</span>
            </a>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">FAQ</a>
                <a href="#">Blog</a>
                <a href="#">Careers</a>
            </div>
            <div class="social-links">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-discord"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
            </div>
            <p class="copyright">© 2023 EduBot AI. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatMessages = document.getElementById('chatMessages');
            const userInput = document.getElementById('userInput');
            const sendBtn = document.getElementById('sendBtn');
            const modelSelector = document.getElementById('modelSelector');
            const quickActionBtns = document.querySelectorAll('.action-btn');
            const particlesContainer = document.getElementById('particles');

            // Create floating particles
            function createParticles() {
                const particleCount = 20;
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('particle');
                    
                    // Random size between 2px and 6px
                    const size = Math.random() * 4 + 2;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    // Random position
                    particle.style.left = `${Math.random() * 100}vw`;
                    particle.style.top = `${Math.random() * 100}vh`;
                    
                    // Random animation duration between 10s and 20s
                    const duration = Math.random() * 10 + 10;
                    particle.style.animationDuration = `${duration}s`;
                    
                    // Random delay
                    particle.style.animationDelay = `${Math.random() * 5}s`;
                    
                    particlesContainer.appendChild(particle);
                }
            }

            createParticles();

            // Auto-resize textarea as user types
            userInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = (this.scrollHeight) + 'px';
            });

            // Handle send button click
            sendBtn.addEventListener('click', sendMessage);

            // Handle Enter key (but allow Shift+Enter for new lines)
            userInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            // Quick action buttons
            quickActionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const prompt = this.getAttribute('data-prompt');
                    userInput.value = prompt;
                    userInput.focus();
                    userInput.style.height = 'auto';
                    userInput.style.height = (userInput.scrollHeight) + 'px';
                });
            });

            async function sendMessage() {
                const message = userInput.value.trim();
                if (!message) return;

                // Disable send button during processing
                sendBtn.disabled = true;
                sendBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';

                // Add user message to chat
                addMessage('user', message);
                userInput.value = '';
                userInput.style.height = '50px';

                // Show typing indicator
                const typingIndicator = document.createElement('div');
                typingIndicator.className = 'typing-indicator';
                typingIndicator.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                chatMessages.appendChild(typingIndicator);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                try {
                    // Call OpenRouter API
                    const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
                        method: "POST",
                        headers: {
                            "Authorization": "Bearer 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",
                            "HTTP-Referer": window.location.href,
                            "X-Title": "EduBot AI",
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            "model": modelSelector.value,
                            "messages": [
                                {
                                    "role": "system",
                                    "content": "You are EduBot, an advanced AI homework assistant. Provide clear, detailed explanations suitable for students. Break down complex concepts into simpler terms. When solving math or science problems, show your work step-by-step. For coding questions, provide well-commented examples. Format responses with proper Markdown for readability (use **bold**, *italics*, `code`, ```code blocks```, and bullet points when appropriate)."
                                },
                                {
                                    "role": "user",
                                    "content": message
                                }
                            ]
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`API request failed with status ${response.status}`);
                    }

                    const data = await response.json();
                    const aiResponse = data.choices[0].message.content;

                    // Remove typing indicator and add AI response
                    chatMessages.removeChild(typingIndicator);
                    addMessage('ai', aiResponse);
                } catch (error) {
                    console.error('Error:', error);
                    chatMessages.removeChild(typingIndicator);
                    addMessage('ai', "Sorry, I'm having trouble processing your request. Please try again later or check your network connection.");
                } finally {
                    // Re-enable send button
                    sendBtn.disabled = false;
                    sendBtn.innerHTML = '<i class="fas fa-paper-plane"></i>';
                }
            }

            function addMessage(role, content) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${role}-message`;
                
                // Simple Markdown parsing
                let formattedContent = content
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // bold
                    .replace(/\*(.*?)\*/g, '<em>$1</em>') // italic
                    .replace(/`(.*?)`/g, '<code>$1</code>') // inline code
                    .replace(/```([a-z]*)\n([\s\S]*?)\n```/g, '<pre><code class="language-$1">$2</code></pre>') // code blocks
                    .replace(/- (.*?)(?=\n|$)/g, '<li>$1</li>') // bullet points
                    .replace(/\n/g, '<br>'); // line breaks
                
                // Handle lists
                if (formattedContent.includes('<li>')) {
                    formattedContent = formattedContent.replace(/<li>.*?<\/li>/g, function(match) {
                        return match;
                    });
                    formattedContent = '<ul style="margin-top: 0.5rem; padding-left: 1.2rem;">' + formattedContent + '</ul>';
                }
                
                messageDiv.innerHTML = formattedContent;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });
    </script>
</body>
</html>